# Register File Design Notes

## Overview
The `register_file` is a key component of the **lx32** core. It provides 32 general-purpose registers (GPRs), each 32 bits wide, following a RISC-V inspired architecture.

## Architecture
- **Register x0**: Hardwired to zero. Any write operation to `x0` is ignored, and any read operation returns `32'h0`.
- **Registers x1-x31**: Implemented using the `reg_generic` module.
- **Ports**:
    - **2 Read Ports**: Combinational (asynchronous) read logic.
    - **1 Write Port**: Synchronous write logic (active on `clk` posedge).

## Key Design Decisions

### 1. "Option A" Implementation (Sparse Instantiation)
Instead of instantiating 32 registers and masking the output of `x0`, this design only creates physical registers for `x1` through `x31`. 
- **Benefit**: Saves hardware area (FPGA LUTs/Registers).
- **Logic**: A 5-to-32 bit decoder handles the `write_enable` signals, specifically blocking the enable for index `0`.

### 2. Decoder Logic
The write enable signal uses a one-hot encoding generated by a bit-shift operation:
`assign write_en = (we && (addr_rd != 0)) ? (1 << addr_rd) : 0;`

### 3. Read Path
The read ports are purely combinational. If the source address is `0`, the output is forced to `0`. Otherwise, it selects the output from the `regs_out` array.

